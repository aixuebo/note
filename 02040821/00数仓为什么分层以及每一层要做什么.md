# 背景与总结


# 一、
## 1.同学问，为什么订单fact层有明细了，还要在Aggr层还要有明细呢
分层的目的不同。
* origin 只做数据接入。
* fact 做业务解耦(业务系统与数仓解耦，业务系统变化与数仓不关注，比如业务系统订单来自于很多业务线，但数仓只需要有订单模型即可) && 数据清洗。
* Aggr 维度的收口 && 新增维度。-- 偏范式建模。
* Topic 整合Aggr，做简单的left join。
* DIM 仅是全局码表处理。比如城市。

所以回答这位同学问题，虽然都是明细，立场不同，视角不同，所以还是需要在不同分层下都有相关的模型。

## 2.我怎么知道我的表要放到哪个Aggr和topic里
我认为模型命名很重要，Aggr层按照分析对象+业务过程/业务主题建模。topic按照分析对象建模。
所以我们只要维护和审批好二级目录结构，每一个核心模型一定来自于某一个二级目录下的模型。

比如交易作为一级目录，提单作为二级目录。由一个负责人管理有且只有一个模型。
这样未来需要扩展字段的时候，就会找到负责人了。